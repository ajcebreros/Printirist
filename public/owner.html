<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Admin Dashboard - ESSU</title>
<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family: Arial, sans-serif;
}

body{
  background:#050b14;
  color:#e0f7ff;
  display:flex;
}

/* Sidebar */
.sidebar{
  width:220px;
  background:#020812;
  height:100vh;
  padding:20px;
  border-right:2px solid #00eaff;
  box-shadow:0 0 15px #00eaff;
}

.sidebar h2{
  color:#00eaff;
  text-align:center;
  margin-bottom:30px;
  text-shadow:0 0 10px #00eaff;
}

.sidebar a{
  display:block;
  color:#00eaff;
  text-decoration:none;
  padding:12px;
  margin:10px 0;
  border-radius:8px;
  transition:0.3s;
}

.sidebar a:hover{
  background:#00eaff;
  color:#050b14;
  box-shadow:0 0 10px #00eaff;
}

/* Main Content */
.main{
  flex:1;
  padding:20px;
}

/* Header */
.header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:20px;
}

.header h1{
  color:#00eaff;
  text-shadow:0 0 10px #00eaff;
}

.logout{
  background:transparent;
  border:2px solid #00eaff;
  color:#00eaff;
  padding:8px 15px;
  border-radius:8px;
  cursor:pointer;
  transition:0.3s;
}

.logout:hover{
  background:#00eaff;
  color:#050b14;
  box-shadow:0 0 15px #00eaff;
}

/* Cards */
.cards{
  display:grid;
  grid-template-columns: repeat(auto-fit,minmax(200px,1fr));
  gap:20px;
  margin-bottom:30px;
}

.card{
  background:#020812;
  border:1px solid #00eaff;
  padding:20px;
  border-radius:12px;
  text-align:center;
  box-shadow:0 0 15px rgba(0,234,255,0.4);
}

.card h3{
  color:#00eaff;
  margin-bottom:10px;
}

.card p{
  font-size:2em;
}

/* Table */
.table-container{
  background:#020812;
  border:1px solid #00eaff;
  border-radius:12px;
  padding:20px;
  box-shadow:0 0 15px rgba(0,234,255,0.4);
}

table{
  width:100%;
  border-collapse:collapse;
}

th,td{
  padding:12px;
  border-bottom:1px solid #00eaff;
  text-align:center;
}

th{
  color:#00eaff;
}

tr:hover{
  background:#051a2b;
}

/* Buttons */
.action-btn{
  background:transparent;
  border:1px solid #00eaff;
  color:#00eaff;
  padding:5px 10px;
  border-radius:6px;
  cursor:pointer;
}

.action-btn:hover{
  background:#00eaff;
  color:#050b14;
}

/* Footer */
.footer{
  text-align:center;
  margin-top:20px;
  color:#9fefff;
}
</style>
</head>

<body>

<div class="sidebar">
  <h2>ESSU Admin</h2>
  <a href="#">Dashboard</a>
  <a href="#">Users</a>
  <a href="#">Print Jobs</a>
  <a href="#">Scan Jobs</a>
  <a href="#">Reports</a>
  <a href="#">Settings</a>
</div>

<div class="main">
  <div class="header">
    <h1>Admin Dashboard</h1>
    <button class="logout" onclick="logout()">Logout</button>
  </div>

  <div class="cards">
    <div class="card">
      <h3>Total Users</h3>
      <p id="users">120</p>
    </div>
    <div class="card">
      <h3>Print Jobs</h3>
      <p id="prints">340</p>
    </div>
    <div class="card">
      <h3>Scan Jobs</h3>
      <p id="scans">210</p>
    </div>
    <div class="card">
      <h3>Revenue</h3>
      <p id="revenue">₱5,600</p>
    </div>
  </div>

  <div class="table-container">
    <h2 style="color:#00eaff;margin-bottom:10px;">Recent Activities</h2>
    <table>
      <tr>
        <th>User</th>
        <th>Service</th>
        <th>File</th>
        <th>Status</th>
        <th>Action</th>
      </tr>
      <tbody id="recent-activities-body">
      <!-- Activities will be injected here -->
      </tbody>
    </table>
  </div>

  <div class="footer">
    <p>© 2026 ESSU Printing & Scanning System | Admin Panel</p>
  </div>
</div>

<script>
function logout(){
  alert("You have logged out!");
}

function escapeHtml(s){
  return String(s).replace(/[&<>"']/g,function(c){return {'&':'&amp;','<':'&lt;','>':'&gt;','\"':'&quot;',"'":"&#39;"}[c]});
}

function renderRecentActivities(){
  const body = document.getElementById('recent-activities-body');
  if(!body) return;
  const activities = JSON.parse(localStorage.getItem('activities') || '[]');
  body.innerHTML = '';
  if(activities.length === 0){
    body.innerHTML = '<tr><td colspan="5">No recent activities.</td></tr>';
    return;
  }
  activities.slice(-10).reverse().forEach(a => {
    const tr = document.createElement('tr');
    tr.innerHTML = `<td>${escapeHtml(a.user)}</td><td>${escapeHtml(a.service)}</td><td>${escapeHtml(a.file)}</td><td>${escapeHtml(a.status)}</td><td><button class="action-btn">${escapeHtml(a.action||'View')}</button></td>`;
    body.appendChild(tr);
  });
}

window.addEventListener('storage', function(e){
  if(e.key === 'activities') renderRecentActivities();
});

renderRecentActivities();
</script>

</body>
</html>
